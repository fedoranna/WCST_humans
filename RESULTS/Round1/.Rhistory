# Exclusion reasons for Prolific feedback
actions <- rep.int(NA, sessions)
temp <- is.element(participantdata$index, participantdata_inc$index)
actions[which(temp)] <- "PAY"
temp <- is.na(participantdata$aha)
actions[which(temp)] <- "quit"
temp <- duplicated(participantdata$manual_ID)
actions[which(temp)] <- "played_twice"
temp <- participantdata$country_of_birth == "CONSENT REVOKED"
actions[which(temp)] <- "revoked_consent"
temp <- participantdata$wentback
actions[which(temp)] <- "refreshed"
temp <- is.na(participantdata$resultfile)
actions[which(temp)] <- "quit"
temp <- participantdata$colorblindness
actions[which(temp)] <- "colorblind"
temp <- is.na(participantdata$manual_ID)
actions[which(temp)] <- "quit"
participantdata$prolific_action <- actions
# Excluded participants
participantdata_exc <- participantdata %>%
filter(is.element(index, participantdata_inc$index) == FALSE) %>%
arrange(prolific_ID)
participant_todo <- participantdata %>%
filter(status == "AWAITING REVIEW") %>%
select(prolific_ID, prolific_action) %>%
arrange(prolific_ID)
temp <- filter(participant_todo, prolific_action == "PAY")
approved_list <- temp$prolific_ID # this can be copid to Prolific for batch approve
manually_reject <- filter(participant_todo, prolific_action != "PAY")
# exclude invalid cases and those who gave up from the other datasets too
# timestampdata_inc <- timestampdata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index, timestamp)
#
# prolificdata_inc <- prolificdata %>%
#   filter(is.element(participant_id, participantdata_inc$manual_ID)) %>%
#   arrange(participant_id)
#
# movedata_inc <- movedata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index)
View(participantdata_inc)
# Chunk 1: setup
# PACKAGES
library(knitr)
library(dplyr)
library(stringdist)
library(reshape2)
library(ggplot2)
knitr::opts_chunk$set(echo = FALSE)
# Put all participant files in wd, and replace 4 files: survey.txt, vpn.txt, time.txt, prolific_export_5f917030b1ac5a05a2123cac.csv
# vpn.txt:
# 306: delete URL from ID
# 509: rewrite 4o to 40
# 894: random text copied into ID field
# survey: 886 wrote "d" for the level of difficulty field - delete it!
# Chunk 2: Read data
# Parameters
rm(list = ls()) # clear workspace
datadir = "C:/Users/fedor/OneDrive/Documents/R/WCST_humans/RESULTS/Round1/" # the directory where you put all the files from the server
url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vSkn-qNdPGKO3yf9LU3ed4WA_-XeM-3z7PecwM3-3A2tp1TeRJO8oZp4vAaoJjQY6FoclK77pi1Ixt7/pub?output=csv" # URL of the Google form with the missing survey answers
# Read data from common files
setwd(datadir)
vpndata <- read.table(paste(datadir, "vpn.txt", sep=""),
header = FALSE, sep = ",",
col.names = c("index", "ID", "age", "sex", "vision", "colorblindness"),
colClasses = c("integer", "factor", "integer", "factor", "factor", "factor"))
surveydata <- read.table(paste(datadir, "survey.txt", sep=""),
header = FALSE, sep = "|", fill=TRUE,  quote = "",
col.names = c("condition", "index", "goal", "rule", "aha", "difficulty", "comments"),
colClasses = c("factor", "integer", "character", "character", "factor", "numeric", "character"))
timestampdata <- read.table(paste(datadir, "time.txt", sep=""),
header = FALSE, sep = ",",
col.names = c("condition", "index", "event", "timestamp"),
colClasses = c("factor", "integer", "factor", "character"))
prolificfile <- list.files(datadir, pattern = "prolific_export_*" )
prolificdata <- read.csv(paste(datadir, prolificfile, sep=""),
header = TRUE)
surveydata2 <- read.csv(url)
# Read data from resultfiles
resultfiles <- list.files(datadir, pattern = "*Results.txt" )
movedata <- c()
success <- data.frame(
order = 1:length(resultfiles),
index = NA,
condition = NA,
solver = NA,
wentback = NA,
resultfile = NA
)
for (i in 1:length(resultfiles))
{
d <- read.table(paste(datadir, resultfiles[i], sep=""),
header = FALSE, sep = ",",
colClasses = c("factor", "integer", "integer", "factor", "factor", "logical", "integer", "integer", "numeric"),
na.strings = "null")
# Solved the task?
if (nrow(d)>17){
s <- sum(d[(nrow(d)-17):nrow(d), 6]) == 18
} else {
s <- FALSE}
# Refreshed game or used back button?
if (length(d[,3]) > length(unique(d[,3])))  {
wentback <- TRUE
} else {
wentback <- FALSE}
movedata <- rbind(movedata, d)
success[i,"index"] <- d[1,2]
success[i,"condition"] <- as.character(d[1,1])
success[i,"solver"] <- s
success[i,"wentback"] <- wentback
success[i,"resultfile"] <- resultfiles[i]
}
colnames(movedata) <- c("condition", "index", "trial", "src_card", "tar_card", "match", "mv_time", "total_time", "timestamp")
# Chunk 3: Modify and merge data frames
# The number of initiated sessions
sessions <- max(vpndata$index, na.rm=TRUE) + sum(is.na(vpndata$index))
# Merged participant data: success, vpndata, surveydata, prolificdata
participantdata <- data.frame(
index = 1:sessions,
prolific_action = NA)
conditions_ordered <- c("wlin", "wlout", "wnol", "wnolfs", "wnola", "moonsq", "wonly")
r1 = match(participantdata$index, success[,2])
participantdata$resultfile <- success[r1, 6]
participantdata$condition <- as.factor(success[r1, 3])
participantdata$solver <- success[r1, 4]
participantdata$wentback <- success[r1, 5]
r2 <- match(participantdata$index, vpndata$index)
participantdata$manual_ID <- vpndata$ID[r2]
participantdata$manual_age <- vpndata$age[r2]
participantdata$manual_sex <- vpndata$sex[r2]
participantdata$vision <- vpndata$vision[r2]
participantdata$colorblindness <- ifelse(vpndata$colorblindness[r2]=="not color blind", FALSE, TRUE)
r3 <- match(participantdata$index, surveydata$index)
participantdata$goal <- surveydata$goal[r3]
participantdata$rule <- surveydata$rule[r3]
participantdata$aha <- ifelse(surveydata$aha[r3]=="yes aha", TRUE, FALSE)
participantdata$difficulty <- surveydata$difficulty[r3]
participantdata$comments <- surveydata$comments[r3]
r4 <- match(participantdata$manual_ID, prolificdata$participant_id)
participantdata$session_id <- prolificdata$session_id[r4]
participantdata$prolific_ID <- prolificdata$participant_id[r4]
participantdata$status <- prolificdata$status[r4]
participantdata$started_datetime <- prolificdata$started_datetime[r4]
participantdata$completed_date_time <- prolificdata$completed_date_time[r4]
participantdata$time_taken <- prolificdata$time_taken[r4]
participantdata$prolific_age <- prolificdata$age[r4]
participantdata$num_approvals <- prolificdata$num_approvals[r4]
participantdata$num_rejections <- prolificdata$num_rejections[r4]
participantdata$prolific_score <- prolificdata$prolific_score[r4]
participantdata$reviewed_at_datetime <- prolificdata$reviewed_at_datetime[r4]
participantdata$entered_code <- prolificdata$entered_code[r4]
participantdata$country_of_birth <- prolificdata$Country.of.Birth[r4]
participantdata$current_country_of_residence <- prolificdata$Current.Country.of.Residence[r4]
participantdata$employment_status <- prolificdata$Employment.Status[r4]
participantdata$first_language_1 <- prolificdata$First.Language[r4]
participantdata$first_language_2 <- prolificdata$First.language[r4]
participantdata$nationality <- prolificdata$Nationality[r4]
participantdata$prolific_sex <- prolificdata$Sex[r4]
participantdata$student_status <- prolificdata$Student.Status[r4]
r5 <- match(participantdata$manual_ID, surveydata2$Your.Prolific.ID)
replace_these <- which(is.na(r5)==FALSE)
participantdata$goal[replace_these] <- as.character(surveydata2[r5[replace_these],3])
participantdata$rule[replace_these] <- as.character(surveydata2[r5[replace_these],4])
participantdata$aha[replace_these] <- ifelse(surveydata2[r5[replace_these],5]=="Yes", TRUE, FALSE)
participantdata$difficulty[replace_these] <- as.numeric(surveydata2[r5[replace_these],6])
participantdata$comments[replace_these] <- as.character(surveydata2[r5[replace_these],7])
# Reorder cinditions
participantdata$condition <- factor(participantdata$condition , levels=c("wlin", "wlout", "wnol", "wnolfs", "wnola", "moonsq", "wonly"))
# Modify
# check if difficulty is outside of range, e.g. 50 or 7.5
# Chunk 4: Calculate variables per move
# Create think_time variable
movedata <- mutate(movedata, think_time = total_time - mv_time)
# Create matching_rule variable
movedata <- mutate(movedata,
matching_shape=NA,
matching_color=NA,
matching_number=NA)
for (r in 1:nrow(movedata)){
movedata[r,"matching_shape"] = substr(movedata[r,4],1,1)==substr(movedata[r,5],1,1)
movedata[r,"matching_color"] = substr(movedata[r,4],2,2)==substr(movedata[r,5],2,2)
movedata[r,"matching_number"] = substr(movedata[r,4],3,3)==substr(movedata[r,5],3,3)
}
# Chunk 5: Calculate variables per participant
# Summarize movedata
sum_movedata <- movedata %>%
group_by(index) %>%
summarize(
Nbof_moves = max(trial),
Task_time = sum(total_time)/1000/60, #min
Mean_total_time = mean(total_time), #ms
Mean_move_time = mean(mv_time), #ms
Mean_think_time = mean(think_time) # ms
)
# Merge sum_movedata with participantdata
r6 <- match(participantdata$index, sum_movedata$index)
participantdata$nbof_moves <- sum_movedata$Nbof_moves[r6]
participantdata$task_time <- sum_movedata$Task_time[r6]
participantdata$mean_total_time <- sum_movedata$Mean_total_time[r6]
participantdata$mean_move_time <- sum_movedata$Mean_move_time[r6]
participantdata$mean_think_time <- sum_movedata$Mean_think_time[r6]
# Chunk 6: Exclude participants
# Exclude invalid cases
participantdata_f1 <- filter(participantdata, is.na(manual_ID)==FALSE)      # who did not fill out datasheet
participantdata_f2 <- filter(participantdata_f1, colorblindness==FALSE)     # who checked color-blindness
participantdata_f3 <- filter(participantdata_f2, is.na(resultfile)==FALSE)  # who did not start the game
participantdata_f4 <- filter(participantdata_f3, wentback==FALSE)           # who went back to the instructions page after making some moves in the game
participantdata_f5 <- filter(participantdata_f4, (country_of_birth == "CONSENT REVOKED")==FALSE) # who revoked consent
participantdata_f6 <- filter(participantdata_f5, duplicated(manual_ID)==FALSE)  # who played the game 2x (delete all attempts after the 1st)
participantdata_inc <- filter(participantdata_f6, is.na(aha)==FALSE) # who will be included in data analysis
# who did not get to survey (quit game early or did not press continue button after timeout) - count these as GAVE UP!!!
gave_up <- filter(participantdata_f6, is.na(aha))
# this criteria is not sufficient: these could be those for whom the server froze during the survey!!!
# who have missing game file, but survey is filled out - pay anyway, because this is server error
# Exclusion reasons for Prolific feedback
actions <- rep.int(NA, sessions)
temp <- is.element(participantdata$index, participantdata_inc$index)
actions[which(temp)] <- "PAY"
temp <- is.na(participantdata$aha)
actions[which(temp)] <- "quit"
temp <- duplicated(participantdata$manual_ID)
actions[which(temp)] <- "played_twice"
temp <- participantdata$country_of_birth == "CONSENT REVOKED"
actions[which(temp)] <- "revoked_consent"
temp <- participantdata$wentback
actions[which(temp)] <- "refreshed"
temp <- is.na(participantdata$resultfile)
actions[which(temp)] <- "quit"
temp <- participantdata$colorblindness
actions[which(temp)] <- "colorblind"
temp <- is.na(participantdata$manual_ID)
actions[which(temp)] <- "quit"
participantdata$prolific_action <- actions
# Excluded participants
participantdata_exc <- participantdata %>%
filter(is.element(index, participantdata_inc$index) == FALSE) %>%
arrange(prolific_ID)
participant_todo <- participantdata %>%
filter(status == "AWAITING REVIEW") %>%
select(prolific_ID, prolific_action) %>%
arrange(prolific_ID)
temp <- filter(participant_todo, prolific_action == "PAY")
approved_list <- temp$prolific_ID # this can be copid to Prolific for batch approve
manually_reject <- filter(participant_todo, prolific_action != "PAY")
# exclude invalid cases and those who gave up from the other datasets too
# timestampdata_inc <- timestampdata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index, timestamp)
#
# prolificdata_inc <- prolificdata %>%
#   filter(is.element(participant_id, participantdata_inc$manual_ID)) %>%
#   arrange(participant_id)
#
# movedata_inc <- movedata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index)
View(participantdata)
View(participantdata)
exclude_list <- c() # Prolific ID of excluded participants based on their survey answers
participantdata_inc2 <- filter(participantdata_inc, prolific_ID == exclude_list) # who will be included in data analysis
exclude_list <- c() # Prolific ID of excluded participants based on their survey answers
participantdata_inc2 <- filter(participantdata_inc, prolific_ID == exclude_list) # who will be included in data analysis
exclude_list <- c("x", "xx") # Prolific ID of excluded participants based on their survey answers
participantdata_inc2 <- filter(participantdata_inc, prolific_ID == exclude_list) # who will be included in data analysis
View(participantdata_inc2)
participantdata_inc2 <- filter(participantdata_inc, prolific_ID != exclude_list) # who will be included in data analysis
# Chunk 1: setup
# PACKAGES
library(knitr)
library(dplyr)
library(stringdist)
library(reshape2)
library(ggplot2)
knitr::opts_chunk$set(echo = FALSE)
# Put all participant files in wd, and replace 4 files: survey.txt, vpn.txt, time.txt, prolific_export_5f917030b1ac5a05a2123cac.csv
# vpn.txt:
# 306: delete URL from ID
# 509: rewrite 4o to 40
# 894: random text copied into ID field
# survey: 886 wrote "d" for the level of difficulty field - delete it!
# Chunk 2: Read data
# Parameters
rm(list = ls()) # clear workspace
datadir = "C:/Users/fedor/OneDrive/Documents/R/WCST_humans/RESULTS/Round1/" # the directory where you put all the files from the server
url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vSkn-qNdPGKO3yf9LU3ed4WA_-XeM-3z7PecwM3-3A2tp1TeRJO8oZp4vAaoJjQY6FoclK77pi1Ixt7/pub?output=csv" # URL of the Google form with the missing survey answers
# Read data from common files
setwd(datadir)
vpndata <- read.table(paste(datadir, "vpn.txt", sep=""),
header = FALSE, sep = ",",
col.names = c("index", "ID", "age", "sex", "vision", "colorblindness"),
colClasses = c("integer", "factor", "integer", "factor", "factor", "factor"))
surveydata <- read.table(paste(datadir, "survey.txt", sep=""),
header = FALSE, sep = "|", fill=TRUE,  quote = "",
col.names = c("condition", "index", "goal", "rule", "aha", "difficulty", "comments"),
colClasses = c("factor", "integer", "character", "character", "factor", "numeric", "character"))
timestampdata <- read.table(paste(datadir, "time.txt", sep=""),
header = FALSE, sep = ",",
col.names = c("condition", "index", "event", "timestamp"),
colClasses = c("factor", "integer", "factor", "character"))
prolificfile <- list.files(datadir, pattern = "prolific_export_*" )
prolificdata <- read.csv(paste(datadir, prolificfile, sep=""),
header = TRUE)
surveydata2 <- read.csv(url)
# Read data from resultfiles
resultfiles <- list.files(datadir, pattern = "*Results.txt" )
movedata <- c()
success <- data.frame(
order = 1:length(resultfiles),
index = NA,
condition = NA,
solver = NA,
wentback = NA,
resultfile = NA
)
for (i in 1:length(resultfiles))
{
d <- read.table(paste(datadir, resultfiles[i], sep=""),
header = FALSE, sep = ",",
colClasses = c("factor", "integer", "integer", "factor", "factor", "logical", "integer", "integer", "numeric"),
na.strings = "null")
# Solved the task?
if (nrow(d)>17){
s <- sum(d[(nrow(d)-17):nrow(d), 6]) == 18
} else {
s <- FALSE}
# Refreshed game or used back button?
if (length(d[,3]) > length(unique(d[,3])))  {
wentback <- TRUE
} else {
wentback <- FALSE}
movedata <- rbind(movedata, d)
success[i,"index"] <- d[1,2]
success[i,"condition"] <- as.character(d[1,1])
success[i,"solver"] <- s
success[i,"wentback"] <- wentback
success[i,"resultfile"] <- resultfiles[i]
}
colnames(movedata) <- c("condition", "index", "trial", "src_card", "tar_card", "match", "mv_time", "total_time", "timestamp")
# Chunk 3: Modify and merge data frames
# The number of initiated sessions
sessions <- max(vpndata$index, na.rm=TRUE) + sum(is.na(vpndata$index))
# Merged participant data: success, vpndata, surveydata, prolificdata
participantdata <- data.frame(
index = 1:sessions,
prolific_action = NA)
conditions_ordered <- c("wlin", "wlout", "wnol", "wnolfs", "wnola", "moonsq", "wonly")
r1 = match(participantdata$index, success[,2])
participantdata$resultfile <- success[r1, 6]
participantdata$condition <- as.factor(success[r1, 3])
participantdata$solver <- success[r1, 4]
participantdata$wentback <- success[r1, 5]
r2 <- match(participantdata$index, vpndata$index)
participantdata$manual_ID <- vpndata$ID[r2]
participantdata$manual_age <- vpndata$age[r2]
participantdata$manual_sex <- vpndata$sex[r2]
participantdata$vision <- vpndata$vision[r2]
participantdata$colorblindness <- ifelse(vpndata$colorblindness[r2]=="not color blind", FALSE, TRUE)
r3 <- match(participantdata$index, surveydata$index)
participantdata$goal <- surveydata$goal[r3]
participantdata$rule <- surveydata$rule[r3]
participantdata$aha <- ifelse(surveydata$aha[r3]=="yes aha", TRUE, FALSE)
participantdata$difficulty <- surveydata$difficulty[r3]
participantdata$comments <- surveydata$comments[r3]
r4 <- match(participantdata$manual_ID, prolificdata$participant_id)
participantdata$session_id <- prolificdata$session_id[r4]
participantdata$prolific_ID <- prolificdata$participant_id[r4]
participantdata$status <- prolificdata$status[r4]
participantdata$started_datetime <- prolificdata$started_datetime[r4]
participantdata$completed_date_time <- prolificdata$completed_date_time[r4]
participantdata$time_taken <- prolificdata$time_taken[r4]
participantdata$prolific_age <- prolificdata$age[r4]
participantdata$num_approvals <- prolificdata$num_approvals[r4]
participantdata$num_rejections <- prolificdata$num_rejections[r4]
participantdata$prolific_score <- prolificdata$prolific_score[r4]
participantdata$reviewed_at_datetime <- prolificdata$reviewed_at_datetime[r4]
participantdata$entered_code <- prolificdata$entered_code[r4]
participantdata$country_of_birth <- prolificdata$Country.of.Birth[r4]
participantdata$current_country_of_residence <- prolificdata$Current.Country.of.Residence[r4]
participantdata$employment_status <- prolificdata$Employment.Status[r4]
participantdata$first_language_1 <- prolificdata$First.Language[r4]
participantdata$first_language_2 <- prolificdata$First.language[r4]
participantdata$nationality <- prolificdata$Nationality[r4]
participantdata$prolific_sex <- prolificdata$Sex[r4]
participantdata$student_status <- prolificdata$Student.Status[r4]
r5 <- match(participantdata$manual_ID, surveydata2$Your.Prolific.ID)
replace_these <- which(is.na(r5)==FALSE)
participantdata$goal[replace_these] <- as.character(surveydata2[r5[replace_these],3])
participantdata$rule[replace_these] <- as.character(surveydata2[r5[replace_these],4])
participantdata$aha[replace_these] <- ifelse(surveydata2[r5[replace_these],5]=="Yes", TRUE, FALSE)
participantdata$difficulty[replace_these] <- as.numeric(surveydata2[r5[replace_these],6])
participantdata$comments[replace_these] <- as.character(surveydata2[r5[replace_these],7])
# Reorder cinditions
participantdata$condition <- factor(participantdata$condition , levels=c("wlin", "wlout", "wnol", "wnolfs", "wnola", "moonsq", "wonly"))
# Modify
# check if difficulty is outside of range, e.g. 50 or 7.5
# Chunk 4: Calculate variables per move
# Create think_time variable
movedata <- mutate(movedata, think_time = total_time - mv_time)
# Create matching_rule variable
movedata <- mutate(movedata,
matching_shape=NA,
matching_color=NA,
matching_number=NA)
for (r in 1:nrow(movedata)){
movedata[r,"matching_shape"] = substr(movedata[r,4],1,1)==substr(movedata[r,5],1,1)
movedata[r,"matching_color"] = substr(movedata[r,4],2,2)==substr(movedata[r,5],2,2)
movedata[r,"matching_number"] = substr(movedata[r,4],3,3)==substr(movedata[r,5],3,3)
}
# Chunk 5: Calculate variables per participant
# Summarize movedata
sum_movedata <- movedata %>%
group_by(index) %>%
summarize(
Nbof_moves = max(trial),
Task_time = sum(total_time)/1000/60, #min
Mean_total_time = mean(total_time), #ms
Mean_move_time = mean(mv_time), #ms
Mean_think_time = mean(think_time) # ms
)
# Merge sum_movedata with participantdata
r6 <- match(participantdata$index, sum_movedata$index)
participantdata$nbof_moves <- sum_movedata$Nbof_moves[r6]
participantdata$task_time <- sum_movedata$Task_time[r6]
participantdata$mean_total_time <- sum_movedata$Mean_total_time[r6]
participantdata$mean_move_time <- sum_movedata$Mean_move_time[r6]
participantdata$mean_think_time <- sum_movedata$Mean_think_time[r6]
# Chunk 6: Exclude participants
# Exclude invalid cases
participantdata_f1 <- filter(participantdata, is.na(manual_ID)==FALSE)      # who did not fill out datasheet
participantdata_f2 <- filter(participantdata_f1, colorblindness==FALSE)     # who checked color-blindness
participantdata_f3 <- filter(participantdata_f2, is.na(resultfile)==FALSE)  # who did not start the game
participantdata_f4 <- filter(participantdata_f3, wentback==FALSE)           # who went back to the instructions page after making some moves in the game
participantdata_f5 <- filter(participantdata_f4, (country_of_birth == "CONSENT REVOKED")==FALSE) # who revoked consent
participantdata_f6 <- filter(participantdata_f5, duplicated(manual_ID)==FALSE)  # who played the game 2x (delete all attempts after the 1st)
participantdata_inc <- filter(participantdata_f6, is.na(aha)==FALSE) # who will be included in data analysis
# who did not get to survey (quit game early or did not press continue button after timeout) - count these as GAVE UP!!!
gave_up <- filter(participantdata_f6, is.na(aha))
# this criteria is not sufficient: these could be those for whom the server froze during the survey!!!
# who have missing game file, but survey is filled out - pay anyway, because this is server error
# Exclusion reasons for Prolific feedback
actions <- rep.int(NA, sessions)
temp <- is.element(participantdata$index, participantdata_inc$index)
actions[which(temp)] <- "PAY"
temp <- is.na(participantdata$aha)
actions[which(temp)] <- "quit"
temp <- duplicated(participantdata$manual_ID)
actions[which(temp)] <- "played_twice"
temp <- participantdata$country_of_birth == "CONSENT REVOKED"
actions[which(temp)] <- "revoked_consent"
temp <- participantdata$wentback
actions[which(temp)] <- "refreshed"
temp <- is.na(participantdata$resultfile)
actions[which(temp)] <- "quit"
temp <- participantdata$colorblindness
actions[which(temp)] <- "colorblind"
temp <- is.na(participantdata$manual_ID)
actions[which(temp)] <- "quit"
participantdata$prolific_action <- actions
# Excluded participants
participantdata_exc <- participantdata %>%
filter(is.element(index, participantdata_inc$index) == FALSE) %>%
arrange(prolific_ID)
participant_todo <- participantdata %>%
filter(status == "AWAITING REVIEW") %>%
select(prolific_ID, prolific_action) %>%
arrange(prolific_ID)
temp <- filter(participant_todo, prolific_action == "PAY")
approved_list <- temp$prolific_ID # this can be copid to Prolific for batch approve
manually_reject <- filter(participant_todo, prolific_action != "PAY")
# exclude invalid cases and those who gave up from the other datasets too
# timestampdata_inc <- timestampdata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index, timestamp)
#
# prolificdata_inc <- prolificdata %>%
#   filter(is.element(participant_id, participantdata_inc$manual_ID)) %>%
#   arrange(participant_id)
#
# movedata_inc <- movedata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index)
write(participantdata_inc, file="included_participants")
exclude_list <- c("x", "xx") # Prolific ID of excluded participants based on their survey answers
participantdata_inc2 <- filter(participantdata_inc, prolific_ID != exclude_list) # who will be included in data analysis
write(participantdata_inc, file="included_participants.xlsx")
exclude_list <- c("x", "xx") # Prolific ID of excluded participants based on their survey answers
participantdata_inc2 <- filter(participantdata_inc, prolific_ID != exclude_list) # who will be included in data analysis
write(participantdata_inc, file=paste(datadir, "included_participants.xlsx", sep="")
)
paste(datadir, "included_participants.xlsx", sep="")
library(utils)
write.table(participantdata_inc, file=paste(datadir, "included_participants.csv", sep=""))
library(xlsx)
install.packages("xlsx")
library(xlsx)
library(xlsx)
install.packages("xlsx")
library(xlsx)
library(xlsx)
install.packages("openxlsx")
library(openxlsx)
openxlsx::write.xlsx(participantdata_inc, file=paste(datadir, "included_participants.csv", sep=""),
sheetName = "Sheet1", col.names = TRUE, row.names = TRUE, append = FALSE)
openxlsx::write.xlsx(participantdata_inc, file=paste(datadir, "included_participants.xlsx", sep=""),
sheetName = "Sheet1", col.names = TRUE, row.names = TRUE, append = FALSE)
openxlsx::write.xlsx(participantdata_inc, file=paste(datadir, "included_participants.xlsx", sep=""),
sheetName = "Sheet1", col.names = TRUE, row.names = TRUE, append = FALSE)
openxlsx::write.xlsx(participantdata_inc, file=paste(datadir, "included_participants.xlsx", sep=""),
sheetName = "Sheet1", col.names = TRUE, row.names = TRUE, append = FALSE)
View(participantdata_inc)
