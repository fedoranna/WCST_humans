participantdata$completed_date_time <- prolificdata$completed_date_time[r4]
participantdata$time_taken <- prolificdata$time_taken[r4]
participantdata$prolific_age <- prolificdata$age[r4]
participantdata$num_approvals <- prolificdata$num_approvals[r4]
participantdata$num_rejections <- prolificdata$num_rejections[r4]
participantdata$prolific_score <- prolificdata$prolific_score[r4]
participantdata$reviewed_at_datetime <- prolificdata$reviewed_at_datetime[r4]
participantdata$entered_code <- prolificdata$entered_code[r4]
participantdata$country_of_birth <- prolificdata$Country.of.Birth[r4]
participantdata$current_country_of_residence <- prolificdata$Current.Country.of.Residence[r4]
participantdata$employment_status <- prolificdata$Employment.Status[r4]
participantdata$first_language_1 <- prolificdata$First.Language[r4]
participantdata$first_language_2 <- prolificdata$First.language[r4]
participantdata$nationality <- prolificdata$Nationality[r4]
participantdata$prolific_sex <- prolificdata$Sex[r4]
participantdata$student_status <- prolificdata$Student.Status[r4]
r5 <- match(participantdata$manual_ID, surveydata2$Your.Prolific.ID)
replace_these <- which(is.na(r5)==FALSE)
participantdata$goal[replace_these] <- as.character(surveydata2[r5[replace_these],3])
participantdata$rule[replace_these] <- as.character(surveydata2[r5[replace_these],4])
participantdata$aha[replace_these] <- ifelse(surveydata2[r5[replace_these],5]=="Yes", TRUE, FALSE)
participantdata$difficulty[replace_these] <- as.numeric(surveydata2[r5[replace_these],6])
participantdata$comments[replace_these] <- as.character(surveydata2[r5[replace_these],7])
# Reorder conditions
participantdata$condition <- factor(participantdata$condition , levels=conditions_ordered)
# Chunk 4: Calculate variables per move
# Create think_time variable
movedata <- mutate(movedata, think_time = total_time - mv_time)
# Create variables to see if participants used one of the standard rules
movedata <- mutate(movedata,
matching_shape=NA,
matching_color=NA,
matching_number=NA)
for (r in 1:nrow(movedata)){
movedata[r,"matching_shape"] = substr(movedata[r,4],1,1)==substr(movedata[r,5],1,1)
movedata[r,"matching_color"] = substr(movedata[r,4],2,2)==substr(movedata[r,5],2,2)
movedata[r,"matching_number"] = substr(movedata[r,4],3,3)==substr(movedata[r,5],3,3)
}
# Chunk 5: Calculate variables per participant
# Summarize movedata
sum_movedata <- movedata %>%
group_by(index) %>%
summarize(
Nbof_moves = max(trial),
Task_time = sum(total_time)/1000/60, #mins spent with the game
Mean_total_time = mean(total_time), #ms mean total trial time
Mean_move_time = mean(mv_time), #ms mean move time
Mean_think_time = mean(think_time) # ms mean think time
)
# Merge sum_movedata with participantdata
r6 <- match(participantdata$index, sum_movedata$index)
participantdata$nbof_moves <- sum_movedata$Nbof_moves[r6]
participantdata$task_time <- sum_movedata$Task_time[r6]
participantdata$mean_total_time <- sum_movedata$Mean_total_time[r6]
participantdata$mean_move_time <- sum_movedata$Mean_move_time[r6]
participantdata$mean_think_time <- sum_movedata$Mean_think_time[r6]
# Chunk 6: Exclude participants
# Exclude invalid cases
participantdata_f1 <- filter(participantdata, is.na(manual_ID)==FALSE)      # who did not fill out the datasheet
participantdata_f2 <- filter(participantdata_f1, is.na(resultfile)==FALSE)  # who did not start the game
participantdata_f3 <- filter(participantdata_f2, duplicated(manual_ID)==FALSE)  # who played the game 2x (delete all attempts after the 1st)
participantdata_f4 <- filter(participantdata_f3, colorblindness==FALSE)     # who checked color-blindness
participantdata_f5 <- filter(participantdata_f4, wentback==FALSE)           # who went back to the instructions page after making some moves in the game
participantdata_f6 <- filter(participantdata_f5, is.na(aha)==FALSE)        # who did not fill out survey
participantdata_inc <- filter(participantdata_f6, (country_of_birth == "CONSENT REVOKED")==FALSE) # who revoked consent
# Previous version of excluding participants
# participantdata_f1 <- filter(participantdata, is.na(manual_ID)==FALSE)      # who did not fill out the datasheet
# participantdata_f2 <- filter(participantdata_f1, colorblindness==FALSE)     # who checked color-blindness
# participantdata_f3 <- filter(participantdata_f2, is.na(resultfile)==FALSE)  # who did not start the game
# participantdata_f4 <- filter(participantdata_f3, wentback==FALSE)           # who went back to the instructions page after making some moves in the game
# participantdata_f5 <- filter(participantdata_f4, (country_of_birth == "CONSENT REVOKED")==FALSE) # who revoked consent
# participantdata_f6 <- filter(participantdata_f5, duplicated(manual_ID)==FALSE)  # who played the game 2x (delete all attempts after the 1st)
# participantdata_inc <- filter(participantdata_f6, is.na(aha)==FALSE) # who did not fill out survey
# participantdata_inc$index
# Who did not get to survey (quit game early or did not press continue button after timeout, or the server froze)
no_survey <- filter(participantdata_f6, is.na(aha))
# Exclusion reasons for Prolific feedback
actions <- rep.int(NA, sessions)
temp <- is.element(participantdata$index, participantdata_inc$index)
actions[which(temp)] <- "PAY"
temp <- is.na(participantdata$aha)
actions[which(temp)] <- "quit"
temp <- duplicated(participantdata$manual_ID)
actions[which(temp)] <- "played_twice"
temp <- participantdata$country_of_birth == "CONSENT REVOKED"
actions[which(temp)] <- "revoked_consent"
temp <- participantdata$wentback
actions[which(temp)] <- "refreshed"
temp <- is.na(participantdata$resultfile)
actions[which(temp)] <- "quit"
temp <- participantdata$colorblindness
actions[which(temp)] <- "colorblind"
temp <- is.na(participantdata$manual_ID)
actions[which(temp)] <- "quit"
participantdata$prolific_action <- actions
# Excluded participants
participantdata_exc <- participantdata %>%
filter(is.element(index, participantdata_inc$index) == FALSE) %>%
arrange(prolific_ID)
participant_todo <- participantdata %>%
filter(status == "AWAITING REVIEW") %>%
select(prolific_ID, prolific_action) %>%
arrange(prolific_ID)
temp <- filter(participant_todo, prolific_action == "PAY")
approved_list <- temp$prolific_ID # this can be copid to Prolific for batch approve
manually_reject <- filter(participant_todo, prolific_action != "PAY")
# exclude invalid cases and those who gave up from the other datasets too
# timestampdata_inc <- timestampdata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index, timestamp)
#
# prolificdata_inc <- prolificdata %>%
#   filter(is.element(participant_id, participantdata_inc$manual_ID)) %>%
#   arrange(participant_id)
#
# movedata_inc <- movedata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index)
# Chunk 7: Summarize conditions
partic_groups <- participantdata_inc %>%
group_by(condition) %>%
summarize(
Nbof_participants = n_distinct(index),
Nbof_solvers = sum(solver),
Nbof_nonsolvers = Nbof_participants - Nbof_solvers,
Failure_rate = Nbof_nonsolvers / Nbof_participants,
Solution_rate = Nbof_solvers/Nbof_participants,
Nbof_ahas = sum(aha),
Aha_rate = Nbof_ahas/Nbof_participants,
Nbof_ahas_solvers = sum(solver*aha),
Aha_rate_solvers = Nbof_ahas_solvers / Nbof_solvers,
Avg_task_time = mean(task_time),
Avg_nbof_moves = mean(nbof_moves)
)
partic_groups <- arrange(partic_groups, factor(condition, levels = c("wlin", "wlout", "wnol", "wnolfs", "wnola", "moonsq", "wonly")))
partic_groups_rownames <- tibble::column_to_rownames(partic_groups, "condition")
# WLIN <- filter(participantdata, condition=="wlin")
# WLOUT <- filter(participantdata, condition=="wlout")
# WNOL <- filter(participantdata, condition=="wnol")
# WNOLFS <- filter(participantdata, condition=="wnolfs")
# WNOLA <- filter(participantdata, condition=="wnola")
# MOONSQ <- filter(participantdata, condition=="moonsq")
# WONLY <- filter(participantdata, condition=="wonly")
kable(partic_groups[,c(1, 2, 10, 5, 11, 12)],
digits = 3,
col.names = c("Condition", "Number of participants", "Aha rate of solvers", "Failure rate", "Avg task time", "Avg number of moves"))
# Print participantdata for human reading
openxlsx::write.xlsx(participantdata_inc, file=paste(datadir, "_included_participants.xlsx", sep=""),
sheetName = "Sheet1", col.names = TRUE, append = FALSE)
# Print free text answers for human rating
free_text_answers <- participantdata_inc %>%
arrange(condition) %>%
select(index, condition, solver, aha, difficulty, goal, rule, comments)
openxlsx::write.xlsx(free_text_answers, file=paste(datadir, "_free_text_answers.xlsx", sep=""),
sheetName = "Sheet1", col.names = TRUE, append = FALSE)
# Save dataframes
save(
movedata, no_survey, partic_groups, participantdata_inc,
file = "_Step1_output.RData"
)
save.image()
View(participantdata)
5f2c44a7ad8a630dd752f596
View(participantdata_exc)
# Exclude invalid cases
participantdata_f1 <- filter(participantdata, duplicated(manual_ID)==FALSE)  # who played the game 2x (delete all attempts after the 1st)
participantdata_f2 <- filter(participantdata_f1, is.na(manual_ID)==FALSE)      # who did not fill out the datasheet
participantdata_f3 <- filter(participantdata_f2, is.na(resultfile)==FALSE)  # who did not start the game
participantdata_f4 <- filter(participantdata_f3, colorblindness==FALSE)     # who checked color-blindness
participantdata_f5 <- filter(participantdata_f4, wentback==FALSE)           # who went back to the instructions page after making some moves in the game
participantdata_f6 <- filter(participantdata_f5, is.na(aha)==FALSE)        # who did not fill out survey
participantdata_inc <- filter(participantdata_f6, (country_of_birth == "CONSENT REVOKED")==FALSE) # who revoked consent
# Previous version of excluding participants
# participantdata_f1 <- filter(participantdata, is.na(manual_ID)==FALSE)      # who did not fill out the datasheet
# participantdata_f2 <- filter(participantdata_f1, colorblindness==FALSE)     # who checked color-blindness
# participantdata_f3 <- filter(participantdata_f2, is.na(resultfile)==FALSE)  # who did not start the game
# participantdata_f4 <- filter(participantdata_f3, wentback==FALSE)           # who went back to the instructions page after making some moves in the game
# participantdata_f5 <- filter(participantdata_f4, (country_of_birth == "CONSENT REVOKED")==FALSE) # who revoked consent
# participantdata_f6 <- filter(participantdata_f5, duplicated(manual_ID)==FALSE)  # who played the game 2x (delete all attempts after the 1st)
# participantdata_inc <- filter(participantdata_f6, is.na(aha)==FALSE) # who did not fill out survey
# participantdata_inc$index
# Who did not get to survey (quit game early or did not press continue button after timeout, or the server froze)
no_survey <- filter(participantdata_f6, is.na(aha))
# Exclusion reasons for Prolific feedback
actions <- rep.int(NA, sessions)
temp <- is.element(participantdata$index, participantdata_inc$index)
actions[which(temp)] <- "PAY"
temp <- is.na(participantdata$aha)
actions[which(temp)] <- "quit"
temp <- duplicated(participantdata$manual_ID)
actions[which(temp)] <- "played_twice"
temp <- participantdata$country_of_birth == "CONSENT REVOKED"
actions[which(temp)] <- "revoked_consent"
temp <- participantdata$wentback
actions[which(temp)] <- "refreshed"
temp <- is.na(participantdata$resultfile)
actions[which(temp)] <- "quit"
temp <- participantdata$colorblindness
actions[which(temp)] <- "colorblind"
temp <- is.na(participantdata$manual_ID)
actions[which(temp)] <- "quit"
participantdata$prolific_action <- actions
# Excluded participants
participantdata_exc <- participantdata %>%
filter(is.element(index, participantdata_inc$index) == FALSE) %>%
arrange(prolific_ID)
participant_todo <- participantdata %>%
filter(status == "AWAITING REVIEW") %>%
select(prolific_ID, prolific_action) %>%
arrange(prolific_ID)
temp <- filter(participant_todo, prolific_action == "PAY")
approved_list <- temp$prolific_ID # this can be copid to Prolific for batch approve
manually_reject <- filter(participant_todo, prolific_action != "PAY")
# exclude invalid cases and those who gave up from the other datasets too
# timestampdata_inc <- timestampdata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index, timestamp)
#
# prolificdata_inc <- prolificdata %>%
#   filter(is.element(participant_id, participantdata_inc$manual_ID)) %>%
#   arrange(participant_id)
#
# movedata_inc <- movedata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index)
partic_groups <- participantdata_inc %>%
group_by(condition) %>%
summarize(
Nbof_participants = n_distinct(index),
Nbof_solvers = sum(solver),
Nbof_nonsolvers = Nbof_participants - Nbof_solvers,
Failure_rate = Nbof_nonsolvers / Nbof_participants,
Solution_rate = Nbof_solvers/Nbof_participants,
Nbof_ahas = sum(aha),
Aha_rate = Nbof_ahas/Nbof_participants,
Nbof_ahas_solvers = sum(solver*aha),
Aha_rate_solvers = Nbof_ahas_solvers / Nbof_solvers,
Avg_task_time = mean(task_time),
Avg_nbof_moves = mean(nbof_moves)
)
partic_groups <- arrange(partic_groups, factor(condition, levels = c("wlin", "wlout", "wnol", "wnolfs", "wnola", "moonsq", "wonly")))
partic_groups_rownames <- tibble::column_to_rownames(partic_groups, "condition")
# WLIN <- filter(participantdata, condition=="wlin")
# WLOUT <- filter(participantdata, condition=="wlout")
# WNOL <- filter(participantdata, condition=="wnol")
# WNOLFS <- filter(participantdata, condition=="wnolfs")
# WNOLA <- filter(participantdata, condition=="wnola")
# MOONSQ <- filter(participantdata, condition=="moonsq")
# WONLY <- filter(participantdata, condition=="wonly")
kable(partic_groups[,c(1, 2, 10, 5, 11, 12)],
digits = 3,
col.names = c("Condition", "Number of participants", "Aha rate of solvers", "Failure rate", "Avg task time", "Avg number of moves"))
# Exclude invalid cases
participantdata_f1 <- filter(participantdata, duplicated(manual_ID)==FALSE)  # who played the game 2x (delete all attempts after the 1st)
participantdata_f2 <- filter(participantdata_f1, is.na(manual_ID)==FALSE)      # who did not fill out the datasheet
participantdata_f3 <- filter(participantdata_f2, is.na(resultfile)==FALSE)  # who did not start the game
participantdata_f4 <- filter(participantdata_f3, wentback==FALSE)           # who went back to the instructions page after making some moves in the game
participantdata_f5 <- filter(participantdata_f4, is.na(aha)==FALSE)        # who did not fill out survey
participantdata_f6 <- filter(participantdata_f5, colorblindness==FALSE)     # who checked color-blindness
participantdata_inc <- filter(participantdata_f6, (country_of_birth == "CONSENT REVOKED")==FALSE) # who revoked consent
# Previous version of excluding participants
# participantdata_f1 <- filter(participantdata, is.na(manual_ID)==FALSE)      # who did not fill out the datasheet
# participantdata_f2 <- filter(participantdata_f1, colorblindness==FALSE)     # who checked color-blindness
# participantdata_f3 <- filter(participantdata_f2, is.na(resultfile)==FALSE)  # who did not start the game
# participantdata_f4 <- filter(participantdata_f3, wentback==FALSE)           # who went back to the instructions page after making some moves in the game
# participantdata_f5 <- filter(participantdata_f4, (country_of_birth == "CONSENT REVOKED")==FALSE) # who revoked consent
# participantdata_f6 <- filter(participantdata_f5, duplicated(manual_ID)==FALSE)  # who played the game 2x (delete all attempts after the 1st)
# participantdata_inc <- filter(participantdata_f6, is.na(aha)==FALSE) # who did not fill out survey
# participantdata_inc$index
# Who did not get to survey (quit game early or did not press continue button after timeout, or the server froze)
no_survey <- filter(participantdata_f6, is.na(aha))
# Exclusion reasons for Prolific feedback
actions <- rep.int(NA, sessions)
temp <- is.element(participantdata$index, participantdata_inc$index)
actions[which(temp)] <- "PAY"
temp <- is.na(participantdata$aha)
actions[which(temp)] <- "quit"
temp <- duplicated(participantdata$manual_ID)
actions[which(temp)] <- "played_twice"
temp <- participantdata$country_of_birth == "CONSENT REVOKED"
actions[which(temp)] <- "revoked_consent"
temp <- participantdata$wentback
actions[which(temp)] <- "refreshed"
temp <- is.na(participantdata$resultfile)
actions[which(temp)] <- "quit"
temp <- participantdata$colorblindness
actions[which(temp)] <- "colorblind"
temp <- is.na(participantdata$manual_ID)
actions[which(temp)] <- "quit"
participantdata$prolific_action <- actions
# Excluded participants
participantdata_exc <- participantdata %>%
filter(is.element(index, participantdata_inc$index) == FALSE) %>%
arrange(prolific_ID)
participant_todo <- participantdata %>%
filter(status == "AWAITING REVIEW") %>%
select(prolific_ID, prolific_action) %>%
arrange(prolific_ID)
temp <- filter(participant_todo, prolific_action == "PAY")
approved_list <- temp$prolific_ID # this can be copid to Prolific for batch approve
manually_reject <- filter(participant_todo, prolific_action != "PAY")
# exclude invalid cases and those who gave up from the other datasets too
# timestampdata_inc <- timestampdata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index, timestamp)
#
# prolificdata_inc <- prolificdata %>%
#   filter(is.element(participant_id, participantdata_inc$manual_ID)) %>%
#   arrange(participant_id)
#
# movedata_inc <- movedata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index)
partic_groups <- participantdata_inc %>%
group_by(condition) %>%
summarize(
Nbof_participants = n_distinct(index),
Nbof_solvers = sum(solver),
Nbof_nonsolvers = Nbof_participants - Nbof_solvers,
Failure_rate = Nbof_nonsolvers / Nbof_participants,
Solution_rate = Nbof_solvers/Nbof_participants,
Nbof_ahas = sum(aha),
Aha_rate = Nbof_ahas/Nbof_participants,
Nbof_ahas_solvers = sum(solver*aha),
Aha_rate_solvers = Nbof_ahas_solvers / Nbof_solvers,
Avg_task_time = mean(task_time),
Avg_nbof_moves = mean(nbof_moves)
)
partic_groups <- arrange(partic_groups, factor(condition, levels = c("wlin", "wlout", "wnol", "wnolfs", "wnola", "moonsq", "wonly")))
partic_groups_rownames <- tibble::column_to_rownames(partic_groups, "condition")
# WLIN <- filter(participantdata, condition=="wlin")
# WLOUT <- filter(participantdata, condition=="wlout")
# WNOL <- filter(participantdata, condition=="wnol")
# WNOLFS <- filter(participantdata, condition=="wnolfs")
# WNOLA <- filter(participantdata, condition=="wnola")
# MOONSQ <- filter(participantdata, condition=="moonsq")
# WONLY <- filter(participantdata, condition=="wonly")
kable(partic_groups[,c(1, 2, 10, 5, 11, 12)],
digits = 3,
col.names = c("Condition", "Number of participants", "Aha rate of solvers", "Failure rate", "Avg task time", "Avg number of moves"))
# Exclude invalid cases
participantdata_f1 <- filter(participantdata, duplicated(manual_ID)==FALSE)  # who played the game 2x (delete all attempts after the 1st)
participantdata_f2 <- filter(participantdata_f1, is.na(manual_ID)==FALSE)      # who did not fill out the datasheet
participantdata_f3 <- filter(participantdata_f2, is.na(resultfile)==FALSE)  # who did not start the game
participantdata_f4 <- filter(participantdata_f3, wentback==FALSE)           # who went back to the instructions page after making some moves in the game
participantdata_f5 <- filter(participantdata_f4, is.na(aha)==FALSE)        # who did not fill out survey
participantdata_f6 <- filter(participantdata_f5, colorblindness==FALSE)     # who checked color-blindness
participantdata_inc <- filter(participantdata_f6, (country_of_birth == "CONSENT REVOKED")==FALSE) # who revoked consent
# Previous version of excluding participants
# participantdata_f1 <- filter(participantdata, is.na(manual_ID)==FALSE)      # who did not fill out the datasheet
# participantdata_f2 <- filter(participantdata_f1, colorblindness==FALSE)     # who checked color-blindness
# participantdata_f3 <- filter(participantdata_f2, is.na(resultfile)==FALSE)  # who did not start the game
# participantdata_f4 <- filter(participantdata_f3, wentback==FALSE)           # who went back to the instructions page after making some moves in the game
# participantdata_f5 <- filter(participantdata_f4, (country_of_birth == "CONSENT REVOKED")==FALSE) # who revoked consent
# participantdata_f6 <- filter(participantdata_f5, duplicated(manual_ID)==FALSE)  # who played the game 2x (delete all attempts after the 1st)
# participantdata_inc <- filter(participantdata_f6, is.na(aha)==FALSE) # who did not fill out survey
# participantdata_inc$index
# Who did not get to survey (quit game early or did not press continue button after timeout, or the server froze)
no_survey <- filter(participantdata_f6, is.na(aha))
# Exclusion reasons for Prolific feedback
actions <- rep.int(NA, sessions)
temp <- is.element(participantdata$index, participantdata_inc$index)
actions[which(temp)] <- "PAY"
temp <- is.na(participantdata$aha)
actions[which(temp)] <- "quit"
temp <- duplicated(participantdata$manual_ID)
actions[which(temp)] <- "played_twice"
temp <- participantdata$country_of_birth == "CONSENT REVOKED"
actions[which(temp)] <- "revoked_consent"
temp <- participantdata$wentback
actions[which(temp)] <- "refreshed"
temp <- is.na(participantdata$resultfile)
actions[which(temp)] <- "quit"
temp <- participantdata$colorblindness
actions[which(temp)] <- "colorblind"
temp <- is.na(participantdata$manual_ID)
actions[which(temp)] <- "quit"
participantdata$prolific_action <- actions
# Excluded participants
participantdata_exc <- participantdata %>%
filter(is.element(index, participantdata_inc$index) == FALSE) %>%
arrange(prolific_ID)
participant_todo <- participantdata %>%
filter(status == "AWAITING REVIEW") %>%
select(prolific_ID, prolific_action) %>%
arrange(prolific_ID)
temp <- filter(participant_todo, prolific_action == "PAY")
approved_list <- temp$prolific_ID # this can be copid to Prolific for batch approve
manually_reject <- filter(participant_todo, prolific_action != "PAY")
# exclude invalid cases and those who gave up from the other datasets too
# timestampdata_inc <- timestampdata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index, timestamp)
#
# prolificdata_inc <- prolificdata %>%
#   filter(is.element(participant_id, participantdata_inc$manual_ID)) %>%
#   arrange(participant_id)
#
# movedata_inc <- movedata %>%
#   filter(is.element(index, participantdata_inc$index)) %>%
#   arrange(index)
partic_groups <- participantdata_inc %>%
group_by(condition) %>%
summarize(
Nbof_participants = n_distinct(index),
Nbof_solvers = sum(solver),
Nbof_nonsolvers = Nbof_participants - Nbof_solvers,
Failure_rate = Nbof_nonsolvers / Nbof_participants,
Solution_rate = Nbof_solvers/Nbof_participants,
Nbof_ahas = sum(aha),
Aha_rate = Nbof_ahas/Nbof_participants,
Nbof_ahas_solvers = sum(solver*aha),
Aha_rate_solvers = Nbof_ahas_solvers / Nbof_solvers,
Avg_task_time = mean(task_time),
Avg_nbof_moves = mean(nbof_moves)
)
partic_groups <- arrange(partic_groups, factor(condition, levels = c("wlin", "wlout", "wnol", "wnolfs", "wnola", "moonsq", "wonly")))
partic_groups_rownames <- tibble::column_to_rownames(partic_groups, "condition")
# WLIN <- filter(participantdata, condition=="wlin")
# WLOUT <- filter(participantdata, condition=="wlout")
# WNOL <- filter(participantdata, condition=="wnol")
# WNOLFS <- filter(participantdata, condition=="wnolfs")
# WNOLA <- filter(participantdata, condition=="wnola")
# MOONSQ <- filter(participantdata, condition=="moonsq")
# WONLY <- filter(participantdata, condition=="wonly")
kable(partic_groups[,c(1, 2, 10, 5, 11, 12)],
digits = 3,
col.names = c("Condition", "Number of participants", "Aha rate of solvers", "Failure rate", "Avg task time", "Avg number of moves"))
# Print participantdata for human reading
openxlsx::write.xlsx(participantdata_inc, file=paste(datadir, "_included_participants.xlsx", sep=""),
sheetName = "Sheet1", col.names = TRUE, append = FALSE)
# Print free text answers for human rating
free_text_answers <- participantdata_inc %>%
arrange(condition) %>%
select(index, condition, solver, aha, difficulty, goal, rule, comments)
openxlsx::write.xlsx(free_text_answers, file=paste(datadir, "_free_text_answers.xlsx", sep=""),
sheetName = "Sheet1", col.names = TRUE, append = FALSE)
# Save dataframes
save(
movedata, no_survey, partic_groups, participantdata_inc,
file = "_Step1_output.RData"
)
save.image()
kable(partic_groups[,c(1, 2, 10, 5, 11, 12)],
digits = 3,
col.names = c("Condition", "Number of participants", "Aha rate of solvers", "Failure rate", "Avg task time", "Avg number of moves"))
# Chunk 1: Setup and parameters
# Packages
library(knitr)
library(dplyr)
library(stringdist)
library(reshape2)
library(ggplot2)
library(openxlsx)
knitr::opts_chunk$set(echo = FALSE)
# Parameters
rm(list = ls()) # clear workspace
datadir = "C:/Users/fedor/OneDrive/Documents/R/WCST_humans/RESULTS/Round1/" # the directory of the data files from Step 1
datafile = "_Step1_output.RData"
rated_data = "_free_text_answers_agreed.xlsx"
# Chunk 2: Read data
# Load data
load(paste(datadir, datafile, sep=""))
rates <- read.xlsx(paste(datadir, rated_data, sep=""))
r6 = match(participantdata_inc$index, rates$index)
participantdata_inc$rule <- rates$agreed.rule[r6]
participantdata_inc$exclude <- rates$Exclude
# Packages
library(knitr)
library(dplyr)
library(stringdist)
library(reshape2)
library(ggplot2)
library(openxlsx)
knitr::opts_chunk$set(echo = FALSE)
# Parameters
rm(list = ls()) # clear workspace
datadir = "C:/Users/fedor/OneDrive/Documents/R/WCST_humans/RESULTS/Round1/" # the directory of the data files from Step 1
datafile = "_Step1_output.RData"
rated_data = "_free_text_answers_agreed.xlsx"
# Load data
load(paste(datadir, datafile, sep=""))
rates <- read.xlsx(paste(datadir, rated_data, sep=""))
r6 = match(participantdata_inc$index, rates$index)
participantdata_inc$rule <- rates$agreed.rule[r6]
participantdata_inc$exclude <- rates$Exclude
# Load data
load(paste(datadir, datafile, sep=""))
rates <- read.xlsx(paste(datadir, rated_data, sep=""))
r6 = match(participantdata_inc$index, rates$index)
participantdata_inc$rule <- rates$agreed.rule[r6]
participantdata_inc$exclude <- rates$Exclude
# Chunk 1: Setup and parameters
# Packages
library(knitr)
library(dplyr)
library(stringdist)
library(reshape2)
library(ggplot2)
library(openxlsx)
knitr::opts_chunk$set(echo = FALSE)
# Parameters
rm(list = ls()) # clear workspace
datadir = "C:/Users/fedor/OneDrive/Documents/R/WCST_humans/RESULTS/Round1/" # the directory of the data files from Step 1
datafile = "_Step1_output.RData"
rated_data = "_free_text_answers_agreed.xlsx"
# Load data
load(paste(datadir, datafile, sep=""))
rates <- read.xlsx(paste(datadir, rated_data, sep=""))
r6 = match(participantdata_inc$index, rates$index)
participantdata_inc$rule <- rates$agreed.rule[r6]
participantdata_inc$exclude <- rates$Exclude
